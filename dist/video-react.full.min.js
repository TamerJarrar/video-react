(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):(e=e||self,t(e["video-react"]={},e.React))})(this,function(a,o){"use strict";function i(e,t){for(var a,n=0;n<t.length;n++)a=t[n],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function s(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t,a=1;a<arguments.length;a++)for(var n in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},u.apply(this,arguments)}function E(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function T(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],0<=t.indexOf(a)||(o[a]=e[a]);return o}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){return t={exports:{}},e(t,t.exports),t.exports}function S(t){if("object"==typeof t&&null!==t){var o=t.$$typeof;switch(o){case b:switch(t=t.type,t){case k:case l:case d:case f:case e:case n:return t;default:switch(t=t&&t.$$typeof,t){case h:case m:case r:case q:case g:return t;default:return o;}}case c:return o;}}}function M(e){return S(e)===l}function A(e){if(null===e||e===void 0)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function D(){}function R(){}function I(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}function L(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function F(e,t,a){function n(){p===c&&(p=c.slice())}function o(){if(u)throw new Error(I(3));return s}function r(e){if("function"!=typeof e)throw new Error(I(4));if(u)throw new Error(I(5));var t=!0;return n(),p.push(e),function(){if(t){if(u)throw new Error(I(6));t=!1,n();var a=p.indexOf(e);p.splice(a,1),c=null}}}function l(e){if(!L(e))throw new Error(I(7));if("undefined"==typeof e.type)throw new Error(I(8));if(u)throw new Error(I(9));try{u=!0,s=i(s,e)}finally{u=!1}for(var t,a=c=p,n=0;n<a.length;n++)t=a[n],t();return e}var d;if("function"==typeof t&&"function"==typeof a||"function"==typeof a&&"function"==typeof arguments[3])throw new Error(I(0));if("function"==typeof t&&"undefined"==typeof a&&(a=t,t=void 0),"undefined"!=typeof a){if("function"!=typeof a)throw new Error(I(1));return a(F)(e,t)}if("function"!=typeof e)throw new Error(I(2));var i=e,s=t,c=[],p=c,u=!1;return l({type:ot.INIT}),d={dispatch:l,subscribe:r,getState:o,replaceReducer:function(e){if("function"!=typeof e)throw new Error(I(10));i=e,l({type:ot.REPLACE})}},d[at]=function(){var e,t=r;return e={subscribe:function(e){function a(){e.next&&e.next(o())}if("object"!=typeof e||null===e)throw new Error(I(11));a();var n=t(a);return{unsubscribe:n}}},e[at]=function(){return this},e},d}function _(e){return void 0===e&&(e={action:"play",source:""}),this.video.play(),{type:"video-react/OPERATE",operation:e}}function O(e){return void 0===e&&(e={action:"pause",source:""}),this.video.pause(),{type:"video-react/OPERATE",operation:e}}function B(e){return void 0===e&&(e={action:"toggle-play",source:""}),this.video.togglePlay(),{type:"video-react/OPERATE",operation:e}}function U(e,t){return void 0===t&&(t={action:"seek",source:""}),this.video.seek(e),{type:"video-react/OPERATE",operation:t}}function j(e,t){return void 0===t&&(t={action:"forward-"+e,source:""}),this.video.forward(e),{type:"video-react/OPERATE",operation:t}}function K(e,t){return void 0===t&&(t={action:"replay-"+e,source:""}),this.video.replay(e),{type:"video-react/OPERATE",operation:t}}function G(e,t){return void 0===t&&(t={action:"change-rate",source:""}),this.video.playbackRate=e,{type:"video-react/OPERATE",operation:t}}function H(e,t){void 0===t&&(t={action:"change-volume",source:""});var a=e;return 0>e&&(a=0),1<e&&(a=1),this.video.volume=a,{type:"video-react/OPERATE",operation:t}}function V(e,t){return void 0===t&&(t={action:e?"muted":"unmuted",source:""}),this.video.muted=e,{type:"video-react/OPERATE",operation:t}}function z(e){return dt.enabled?(dt.isFullscreen?dt.exit():dt.request(this.rootElement),{type:"video-react/OPERATE",operation:{action:"toggle-fullscreen",source:""}}):{type:"video-react/FULLSCREEN_CHANGE",isFullscreen:!e.isFullscreen}}function W(e,t){switch(void 0===e&&(e=st),t.type){case"video-react/USER_ACTIVATE":return u({},e,{userActivity:t.activity});case"video-react/PLAYER_ACTIVATE":return u({},e,{isActive:t.activity});case"video-react/FULLSCREEN_CHANGE":return u({},e,{isFullscreen:!!t.isFullscreen});case"video-react/SEEKING_TIME":return u({},e,{seekingTime:t.time});case"video-react/END_SEEKING":return u({},e,{seekingTime:0});case"video-react/LOAD_START":return u({},e,t.videoProps,{hasStarted:!1,ended:!1});case"video-react/CAN_PLAY":return u({},e,t.videoProps,{waiting:!1});case"video-react/WAITING":return u({},e,t.videoProps,{waiting:!0});case"video-react/CAN_PLAY_THROUGH":case"video-react/PLAYING":return u({},e,t.videoProps,{waiting:!1});case"video-react/PLAY":return u({},e,t.videoProps,{ended:!1,paused:!1,autoPaused:!1,waiting:!1,hasStarted:!0});case"video-react/PAUSE":return u({},e,t.videoProps,{paused:!0});case"video-react/END":return u({},e,t.videoProps,{ended:!0});case"video-react/SEEKING":return u({},e,t.videoProps,{seeking:!0});case"video-react/SEEKED":return u({},e,t.videoProps,{seeking:!1});case"video-react/ERROR":return u({},e,t.videoProps,{error:"UNKNOWN ERROR",ended:!0});case"video-react/DURATION_CHANGE":case"video-react/TIME_UPDATE":case"video-react/VOLUME_CHANGE":case"video-react/PROGRESS_CHANGE":case"video-react/RATE_CHANGE":case"video-react/SUSPEND":case"video-react/ABORT":case"video-react/EMPTIED":case"video-react/STALLED":case"video-react/LOADED_META_DATA":case"video-react/LOADED_DATA":case"video-react/RESIZE":return u({},e,t.videoProps);case"video-react/ACTIVATE_TEXT_TRACK":return u({},e,{activeTextTrack:t.textTrack});default:return e;}}function $(e,t){switch(void 0===e&&(e=ct),t.type){case"video-react/OPERATE":return u({},e,{count:e.count+1,operation:u({},e.operation,t.operation)});default:return e;}}function Y(e,t){return void 0===e&&(e={}),{player:W(e.player,t),operation:$(e.operation,t)}}function X(e){var t=e.player,a=e.className;return t.error?null:ye.createElement("div",{className:tt("video-react-loading-spinner",a)})}function Z(e){var t=e.poster,a=e.player,n=e.actions,o=e.className;return!t||a.hasStarted?null:ye.createElement("div",{className:tt("video-react-poster",o),style:{backgroundImage:"url(\""+t+"\")"},onClick:function(){a.paused&&n.play()}})}function J(e,t){var a=Math.floor;void 0===e&&(e=0),void 0===t&&(t=e);var n=a(e%60),o=a(e/60%60),r=a(e/3600),l=a(t/60%60),d=a(t/3600);return(gt(e)||e===1/0)&&(r="-",o="-",n="-"),r=0<r||0<d?r+":":"",o=((r||10<=l)&&10>o?"0"+o:o)+":",n=10>n?"0"+n:n,r+o+n}function Q(e){return!!(e.props&&e.props.isVideoChild)||"source"===e.type||"track"===e.type}function ee(t,a,n,o){void 0===o&&(o=1);var r=ye.Children.toArray(a),l=n.order,d=T(n,yt);return r.filter(function(t){return!t.props.disabled}).concat(t.filter(function(e){return!bt(r,function(t){return Et(t,e)})})).map(function(a){var n=bt(t,function(e){return Et(e,a)}),o=n?n.props:{},r=u({},d,o,a.props),l=ye.cloneElement(a,r,a.props.children);return l}).sort(function(e,t){return(e.props.order||o)-(t.props.order||o)})}function te(e,t){console.warn("WARNING: "+e+" will be deprecated soon! Please use "+t+" instead.")}function ae(e,t){var a=arguments,n=!1;return function(){n||(e.apply(void 0,a),n=!0,setTimeout(function(){n=!1},t))}}function ne(e){var a,t=Math.round;if(e.getBoundingClientRect&&e.parentNode&&(a=e.getBoundingClientRect()),!a)return{left:0,top:0};var n=document,o=n.body,r=n.documentElement,l=r.clientLeft||o.clientLeft||0,d=window.pageXOffset||o.scrollLeft,i=a.left+d-l,s=r.clientTop||o.clientTop||0,c=window.pageYOffset||o.scrollTop,p=a.top+c-s;return{left:t(i),top:t(p)}}function oe(e,t){var a=Math.max,n=Math.min,o={},r=ne(e),l=e.offsetWidth,d=e.offsetHeight,i=r.top,s=r.left,c=t.pageY,p=t.pageX;return t.changedTouches&&(p=t.changedTouches[0].pageX,c=t.changedTouches[0].pageY),o.y=a(0,n(1,(i-c+d)/d)),o.x=a(0,n(1,(p-s)/l)),o}function re(e){e&&e.focus&&e.focus()}function le(e,t){for(var a=e.className.split(" "),n=0;n<a.length;n++)if(a[n].toLowerCase()===t.toLowerCase())return!0;return!1}function de(e){var t=e.currentTime,a=e.duration,n=e.percentage,o=e.className;return ye.createElement("div",{"data-current-time":J(t,a),className:tt("video-react-play-progress video-react-slider-bar",o),style:{width:n}},ye.createElement("span",{className:"video-react-control-text"},"Progress: "+n))}function ie(e){function t(e,t){var a=e/t||0;return 100*(1<=a?1:a)+"%"}var a=e.buffered,n=e.duration,o=e.className;if(!a||!a.length)return null;var r=a.end(a.length-1),l={};r>n&&(r=n),l.width=t(r,n);for(var d=[],s=0;s<a.length;s++){var c=a.start(s),p=a.end(s),u=ye.createElement("div",{style:{left:t(c,r),width:t(p-c,r)},key:"part-"+s});d.push(u)}return 0===d.length&&(d=null),ye.createElement("div",{style:l,className:tt("video-react-load-progress",o)},ye.createElement("span",{className:"video-react-control-text"},"Loaded: 0%"),d)}function se(e){var t=e.duration,a=e.mouseTime,n=e.className,o=e.text;if(!a.time)return null;var r=o||J(a.time,t);return ye.createElement("div",{className:tt("video-react-mouse-display",n),style:{left:a.position+"px"},"data-current-time":r})}function ce(e){var t=e.player,a=t.currentTime,n=t.duration,o=e.className,r=J(n-a);return ye.createElement("div",{className:tt("video-react-remaining-time video-react-time-control video-react-control",o)},ye.createElement("div",{className:"video-react-remaining-time-display","aria-live":"off"},ye.createElement("span",{className:"video-react-control-text"},"Remaining Time "),"-"+r))}function pe(e){var t=e.player,a=t.currentTime,n=t.duration,o=e.className,r=J(a,n);return ye.createElement("div",{className:tt("video-react-current-time video-react-time-control video-react-control",o)},ye.createElement("div",{className:"video-react-current-time-display","aria-live":"off"},ye.createElement("span",{className:"video-react-control-text"},"Current Time "),r))}function ue(e){var t=e.player.duration,a=e.className,n=J(t);return ye.createElement("div",{className:tt(a,"video-react-duration video-react-time-control video-react-control")},ye.createElement("div",{className:"video-react-duration-display","aria-live":"off"},ye.createElement("span",{className:"video-react-control-text"},"Duration Time "),n))}function he(e){var t=e.separator,a=e.className;return ye.createElement("div",{className:tt("video-react-time-control video-react-time-divider",a),dir:"ltr"},ye.createElement("div",null,ye.createElement("span",null,t||"/")))}function me(e){var t=e.inline,a=e.className,n=u({},e);return delete n.children,delete n.inline,delete n.className,ye.createElement(qt,u({className:tt(a,{"video-react-menu-button-inline":!!t,"video-react-menu-button-popup":!t},"video-react-control video-react-button video-react-menu-button")},n),ye.createElement(Zt,e))}function ve(e){var t=e.percentage,a=e.vertical,n=e.className,o={};return a?o.height=t:o.width=t,ye.createElement("div",{className:tt(n,"video-react-volume-level"),style:o},ye.createElement("span",{className:"video-react-control-text"}))}var ye="default"in o?o["default"]:o,ge="function"==typeof Symbol&&Symbol.for,b=ge?Symbol.for("react.element"):60103,c=ge?Symbol.for("react.portal"):60106,d=ge?Symbol.for("react.fragment"):60107,e=ge?Symbol.for("react.strict_mode"):60108,f=ge?Symbol.for("react.profiler"):60114,g=ge?Symbol.for("react.provider"):60109,h=ge?Symbol.for("react.context"):60110,k=ge?Symbol.for("react.async_mode"):60111,l=ge?Symbol.for("react.concurrent_mode"):60111,m=ge?Symbol.for("react.forward_ref"):60112,n=ge?Symbol.for("react.suspense"):60113,p=ge?Symbol.for("react.suspense_list"):60120,q=ge?Symbol.for("react.memo"):60115,r=ge?Symbol.for("react.lazy"):60116,t=ge?Symbol.for("react.block"):60121,v=ge?Symbol.for("react.fundamental"):60117,w=ge?Symbol.for("react.responder"):60118,x=ge?Symbol.for("react.scope"):60119,y={AsyncMode:k,ConcurrentMode:l,ContextConsumer:h,ContextProvider:g,Element:b,ForwardRef:m,Fragment:d,Lazy:r,Memo:q,Portal:c,Profiler:f,StrictMode:e,Suspense:n,isAsyncMode:function(e){return M(e)||S(e)===k},isConcurrentMode:M,isContextConsumer:function(e){return S(e)===h},isContextProvider:function(e){return S(e)===g},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===b},isForwardRef:function(e){return S(e)===m},isFragment:function(e){return S(e)===d},isLazy:function(e){return S(e)===r},isMemo:function(e){return S(e)===q},isPortal:function(e){return S(e)===c},isProfiler:function(e){return S(e)===f},isStrictMode:function(t){return S(t)===e},isSuspense:function(e){return S(e)===n},isValidElementType:function(o){return"string"==typeof o||"function"==typeof o||o===d||o===l||o===f||o===e||o===n||o===p||"object"==typeof o&&null!==o&&(o.$$typeof===r||o.$$typeof===q||o.$$typeof===g||o.$$typeof===h||o.$$typeof===m||o.$$typeof===v||o.$$typeof===w||o.$$typeof===x||o.$$typeof===t)},typeOf:S},be=N(function(){}),Ee=be.AsyncMode,fe=be.ConcurrentMode,Ce=be.ContextConsumer,ke=be.ContextProvider,Te=be.Element,Pe=be.ForwardRef,Ne=be.Fragment,Se=be.Lazy,Ae=be.Memo,Me=be.Portal,De=be.Profiler,we=be.StrictMode,Re=be.Suspense,Ie=be.isAsyncMode,xe=be.isConcurrentMode,Le=be.isContextConsumer,Fe=be.isContextProvider,_e=be.isElement,Oe=be.isForwardRef,Be=be.isFragment,Ue=be.isLazy,je=be.isMemo,Ke=be.isPortal,Ge=be.isProfiler,He=be.isStrictMode,Ve=be.isSuspense,ze=be.isValidElementType,We=be.typeOf,$e=N(function(e){e.exports=y}),Ye=Object.getOwnPropertySymbols,qe=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,Ze=function(){var e=String.fromCharCode;try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var a={},n=0;10>n;n++)a["_"+e(n)]=n;var o=Object.getOwnPropertyNames(a).map(function(e){return a[e]});if("0123456789"!==o.join(""))return!1;var r={};return["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t"].forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e){for(var t,a,n=A(e),o=1;o<arguments.length;o++){for(var r in t=Object(arguments[o]),t)qe.call(t,r)&&(n[r]=t[r]);if(Ye){a=Ye(t);for(var l=0;l<a.length;l++)Xe.call(t,a[l])&&(n[a[l]]=t[a[l]])}}return n},Je=Function.call.bind(Object.prototype.hasOwnProperty);R.resetWarningCache=D;var Qe=function(){function e(e,t,a,n,o,r){if(r!=="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:R,resetWarningCache:D};return a.PropTypes=a,a},et=N(function(e){e.exports=Qe()}),tt=N(function(e){(function(){function t(){for(var e,n=[],o=0;o<arguments.length;o++)if(e=arguments[o],e){var r=typeof e;if("string"===r||"number"===r)n.push(e);else if(Array.isArray(e)){if(e.length){var l=t.apply(null,e);l&&n.push(l)}}else if("object"===r)if(e.toString===Object.prototype.toString)for(var d in e)a.call(e,d)&&e[d]&&n.push(d);else n.push(e.toString())}return n.join(" ")}var a={}.hasOwnProperty;e.exports?(t.default=t,e.exports=t):window.classNames=t})()}),at=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}(),nt=function(){return Math.random().toString(36).substring(7).split("").join(".")},ot={INIT:"@@redux/INIT"+nt(),REPLACE:"@@redux/REPLACE"+nt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+nt()}},rt=Object.freeze({__proto__:null,LOAD_START:"video-react/LOAD_START",CAN_PLAY:"video-react/CAN_PLAY",WAITING:"video-react/WAITING",CAN_PLAY_THROUGH:"video-react/CAN_PLAY_THROUGH",PLAYING:"video-react/PLAYING",PLAY:"video-react/PLAY",PAUSE:"video-react/PAUSE",END:"video-react/END",SEEKING:"video-react/SEEKING",SEEKED:"video-react/SEEKED",SEEKING_TIME:"video-react/SEEKING_TIME",END_SEEKING:"video-react/END_SEEKING",DURATION_CHANGE:"video-react/DURATION_CHANGE",TIME_UPDATE:"video-react/TIME_UPDATE",VOLUME_CHANGE:"video-react/VOLUME_CHANGE",PROGRESS_CHANGE:"video-react/PROGRESS_CHANGE",RATE_CHANGE:"video-react/RATE_CHANGE",SUSPEND:"video-react/SUSPEND",ABORT:"video-react/ABORT",EMPTIED:"video-react/EMPTIED",STALLED:"video-react/STALLED",LOADED_META_DATA:"video-react/LOADED_META_DATA",LOADED_DATA:"video-react/LOADED_DATA",RESIZE:"video-react/RESIZE",ERROR:"video-react/ERROR",ACTIVATE_TEXT_TRACK:"video-react/ACTIVATE_TEXT_TRACK",handleLoadStart:function(e){return{type:"video-react/LOAD_START",videoProps:e}},handleCanPlay:function(e){return{type:"video-react/CAN_PLAY",videoProps:e}},handleWaiting:function(e){return{type:"video-react/WAITING",videoProps:e}},handleCanPlayThrough:function(e){return{type:"video-react/CAN_PLAY_THROUGH",videoProps:e}},handlePlaying:function(e){return{type:"video-react/PLAYING",videoProps:e}},handlePlay:function(e){return{type:"video-react/PLAY",videoProps:e}},handlePause:function(e){return{type:"video-react/PAUSE",videoProps:e}},handleEnd:function(e){return{type:"video-react/END",videoProps:e}},handleSeeking:function(e){return{type:"video-react/SEEKING",videoProps:e}},handleSeeked:function(e){return{type:"video-react/SEEKED",videoProps:e}},handleDurationChange:function(e){return{type:"video-react/DURATION_CHANGE",videoProps:e}},handleTimeUpdate:function(e){return{type:"video-react/TIME_UPDATE",videoProps:e}},handleVolumeChange:function(e){return{type:"video-react/VOLUME_CHANGE",videoProps:e}},handleProgressChange:function(e){return{type:"video-react/PROGRESS_CHANGE",videoProps:e}},handleRateChange:function(e){return{type:"video-react/RATE_CHANGE",videoProps:e}},handleSuspend:function(e){return{type:"video-react/SUSPEND",videoProps:e}},handleAbort:function(e){return{type:"video-react/ABORT",videoProps:e}},handleEmptied:function(e){return{type:"video-react/EMPTIED",videoProps:e}},handleStalled:function(e){return{type:"video-react/STALLED",videoProps:e}},handleLoadedMetaData:function(e){return{type:"video-react/LOADED_META_DATA",videoProps:e}},handleLoadedData:function(e){return{type:"video-react/LOADED_DATA",videoProps:e}},handleResize:function(e){return{type:"video-react/RESIZE",videoProps:e}},handleError:function(e){return{type:"video-react/ERROR",videoProps:e}},handleSeekingTime:function(e){return{type:"video-react/SEEKING_TIME",time:e}},handleEndSeeking:function(e){return{type:"video-react/END_SEEKING",time:e}},activateTextTrack:function(e){return{type:"video-react/ACTIVATE_TEXT_TRACK",textTrack:e}}}),lt=function(){function e(){}var t=e.prototype;return t.request=function(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()},t.exit=function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},t.addEventListener=function(e){document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e)},t.removeEventListener=function(e){document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)},s(e,[{key:"isFullscreen",get:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}},{key:"enabled",get:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}}]),e}(),dt=new lt,it=Object.freeze({__proto__:null,OPERATE:"video-react/OPERATE",FULLSCREEN_CHANGE:"video-react/FULLSCREEN_CHANGE",PLAYER_ACTIVATE:"video-react/PLAYER_ACTIVATE",USER_ACTIVATE:"video-react/USER_ACTIVATE",handleFullscreenChange:function(e){return{type:"video-react/FULLSCREEN_CHANGE",isFullscreen:e}},activate:function(e){return{type:"video-react/PLAYER_ACTIVATE",activity:e}},userActivate:function(e){return{type:"video-react/USER_ACTIVATE",activity:e}},play:_,pause:O,togglePlay:B,seek:U,forward:j,replay:K,changeRate:G,changeVolume:H,mute:V,toggleFullscreen:z}),st={currentSrc:null,duration:0,currentTime:0,seekingTime:0,buffered:null,waiting:!1,seeking:!1,paused:!0,autoPaused:!1,ended:!1,playbackRate:1,muted:!1,volume:1,readyState:0,networkState:0,videoWidth:0,videoHeight:0,hasStarted:!1,userActivity:!0,isActive:!1,isFullscreen:!1,activeTextTrack:null},ct={count:0,operation:{action:"",source:""}},pt=function(){function e(e){this.store=e||F(Y),this.video=null,this.rootElement=null}var t=e.prototype;return t.getActions=function(){function e(e){return function(){var n=e.apply(t,arguments);"undefined"!=typeof n&&a(n)}}var t=this,a=this.store.dispatch,n=u({},it,rt);return Object.keys(n).filter(function(e){return"function"==typeof n[e]}).reduce(function(t,a){return t[a]=e(n[a]),t},{})},t.getState=function(){return this.store.getState()},t.subscribeToStateChange=function(e,t){t||(t=this.getState.bind(this));var a=t();return this.store.subscribe(function n(){var o=t();if(o!==a){var r=a;a=o,e(o,r)}})},t.subscribeToOperationStateChange=function t(e){var a=this;return this.subscribeToStateChange(e,function(){return a.getState().operation})},t.subscribeToPlayerStateChange=function t(e){var a=this;return this.subscribeToStateChange(e,function(){return a.getState().player})},e}(),ut={actions:et.object,player:et.object,position:et.string,className:et.string},ht=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleClick=n.handleClick.bind(P(n)),n}E(t,e);var a=t.prototype;return a.componentDidMount=function e(){},a.handleClick=function e(){var t=this.props.actions;t.play()},a.render=function e(){var t=this.props,a=t.player,n=t.position;return ye.createElement("button",{className:tt("video-react-button","video-react-big-play-button","video-react-big-play-button-"+n,this.props.className,{"big-play-button-hide":a.hasStarted||!a.currentSrc}),type:"button","aria-live":"polite",tabIndex:"0",onClick:this.handleClick},ye.createElement("span",{className:"video-react-control-text"},"Play Video"))},t}(o.Component);ht.propTypes=ut,ht.defaultProps={position:"left"},ht.displayName="BigPlayButton";var mt={player:et.object,className:et.string};X.propTypes=mt,X.displayName="LoadingSpinner";var vt={poster:et.string,player:et.object,actions:et.object,className:et.string};Z.propTypes=vt,Z.displayName="PosterImage";var yt=["order"],gt=Number.isNaN||function(e){return e!==e},bt=function a(e,t){return e.filter(t)[0]},Et=function a(e,t){var n=e.type,o=t.type;return"string"==typeof n||"string"==typeof o?n===o:!("function"!=typeof n||"function"!=typeof o)&&n.displayName===o.displayName},ft=["error","src","srcObject","currentSrc","crossOrigin","networkState","preload","buffered","readyState","seeking","currentTime","duration","paused","defaultPlaybackRate","playbackRate","played","seekable","ended","autoplay","loop","mediaGroup","controller","controls","volume","muted","defaultMuted","audioTracks","videoTracks","textTracks","width","height","videoWidth","videoHeight","poster"],Ct={actions:et.object,player:et.object,children:et.any,startTime:et.number,loop:et.bool,muted:et.bool,autoPlay:et.bool,playsInline:et.bool,src:et.string,poster:et.string,className:et.string,preload:et.oneOf(["auto","metadata","none"]),crossOrigin:et.string,onLoadStart:et.func,onWaiting:et.func,onCanPlay:et.func,onCanPlayThrough:et.func,onPlaying:et.func,onEnded:et.func,onSeeking:et.func,onSeeked:et.func,onPlay:et.func,onPause:et.func,onProgress:et.func,onDurationChange:et.func,onError:et.func,onSuspend:et.func,onAbort:et.func,onEmptied:et.func,onStalled:et.func,onLoadedMetadata:et.func,onLoadedData:et.func,onTimeUpdate:et.func,onRateChange:et.func,onVolumeChange:et.func,onResize:et.func},kt=function(e){function t(t){var a;return a=e.call(this,t)||this,a.video=null,a.play=a.play.bind(P(a)),a.pause=a.pause.bind(P(a)),a.seek=a.seek.bind(P(a)),a.forward=a.forward.bind(P(a)),a.replay=a.replay.bind(P(a)),a.toggleFullscreen=a.toggleFullscreen.bind(P(a)),a.getProperties=a.getProperties.bind(P(a)),a.renderChildren=a.renderChildren.bind(P(a)),a.handleLoadStart=a.handleLoadStart.bind(P(a)),a.handleCanPlay=a.handleCanPlay.bind(P(a)),a.handleCanPlayThrough=a.handleCanPlayThrough.bind(P(a)),a.handlePlay=a.handlePlay.bind(P(a)),a.handlePlaying=a.handlePlaying.bind(P(a)),a.handlePause=a.handlePause.bind(P(a)),a.handleEnded=a.handleEnded.bind(P(a)),a.handleWaiting=a.handleWaiting.bind(P(a)),a.handleSeeking=a.handleSeeking.bind(P(a)),a.handleSeeked=a.handleSeeked.bind(P(a)),a.handleFullscreenChange=a.handleFullscreenChange.bind(P(a)),a.handleError=a.handleError.bind(P(a)),a.handleSuspend=a.handleSuspend.bind(P(a)),a.handleAbort=a.handleAbort.bind(P(a)),a.handleEmptied=a.handleEmptied.bind(P(a)),a.handleStalled=a.handleStalled.bind(P(a)),a.handleLoadedMetaData=a.handleLoadedMetaData.bind(P(a)),a.handleLoadedData=a.handleLoadedData.bind(P(a)),a.handleTimeUpdate=a.handleTimeUpdate.bind(P(a)),a.handleRateChange=a.handleRateChange.bind(P(a)),a.handleVolumeChange=a.handleVolumeChange.bind(P(a)),a.handleDurationChange=a.handleDurationChange.bind(P(a)),a.handleProgress=ae(a.handleProgress.bind(P(a)),250),a.handleKeypress=a.handleKeypress.bind(P(a)),a.handleTextTrackChange=a.handleTextTrackChange.bind(P(a)),a}E(t,e);var a=t.prototype;return a.componentDidMount=function e(){this.forceUpdate(),this.video&&this.video.textTracks&&(this.video.textTracks.onaddtrack=this.handleTextTrackChange,this.video.textTracks.onremovetrack=this.handleTextTrackChange)},a.getProperties=function e(){var t=this;return this.video?ft.reduce(function(e,a){return e[a]=t.video[a],e},{}):null},a.handleTextTrackChange=function e(){var t=this.props,a=t.actions,n=t.player;if(this.video&&this.video.textTracks){var o=Array.from(this.video.textTracks).find(function(e){return"showing"===e.mode});o!==n.activeTextTrack&&a.activateTextTrack(o)}},a.play=function e(){var t=this.video.play();void 0!==t&&t.catch(function(){}).then(function(){})},a.pause=function e(){var t=this.video.pause();void 0!==t&&t.catch(function(){}).then(function(){})},a.load=function e(){this.video.load()},a.addTextTrack=function e(){var t;(t=this.video).addTextTrack.apply(t,arguments)},a.canPlayType=function e(){var t;(t=this.video).canPlayType.apply(t,arguments)},a.togglePlay=function e(){this.video.paused?this.play():this.pause()},a.seek=function t(e){try{this.video.currentTime=e}catch(t){}},a.forward=function t(e){this.seek(this.video.currentTime+e)},a.replay=function t(e){this.forward(-e)},a.toggleFullscreen=function e(){var t=this.props,a=t.player,n=t.actions;n.toggleFullscreen(a)},a.handleLoadStart=function e(){var t=this.props,a=t.actions,n=t.onLoadStart;a.handleLoadStart(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleCanPlay=function e(){var t=this.props,a=t.actions,n=t.onCanPlay;a.handleCanPlay(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleCanPlayThrough=function e(){var t=this.props,a=t.actions,n=t.onCanPlayThrough;a.handleCanPlayThrough(this.getProperties()),n&&n.apply(void 0,arguments)},a.handlePlaying=function e(){var t=this.props,a=t.actions,n=t.onPlaying;a.handlePlaying(this.getProperties()),n&&n.apply(void 0,arguments)},a.handlePlay=function e(){var t=this.props,a=t.actions,n=t.onPlay;a.handlePlay(this.getProperties()),n&&n.apply(void 0,arguments)},a.handlePause=function e(){var t=this.props,a=t.actions,n=t.onPause;a.handlePause(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleDurationChange=function e(){var t=this.props,a=t.actions,n=t.onDurationChange;a.handleDurationChange(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleProgress=function e(){var t=this.props,a=t.actions,n=t.onProgress;this.video&&a.handleProgressChange(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleEnded=function e(){var t=this.props,a=t.loop,n=t.player,o=t.actions,r=t.onEnded;a?(this.seek(0),this.play()):!n.paused&&this.pause(),o.handleEnd(this.getProperties()),r&&r.apply(void 0,arguments)},a.handleWaiting=function e(){var t=this.props,a=t.actions,n=t.onWaiting;a.handleWaiting(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleSeeking=function e(){var t=this.props,a=t.actions,n=t.onSeeking;a.handleSeeking(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleSeeked=function e(){var t=this.props,a=t.actions,n=t.onSeeked;a.handleSeeked(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleFullscreenChange=function e(){},a.handleSuspend=function e(){var t=this.props,a=t.actions,n=t.onSuspend;a.handleSuspend(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleAbort=function e(){var t=this.props,a=t.actions,n=t.onAbort;a.handleAbort(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleEmptied=function e(){var t=this.props,a=t.actions,n=t.onEmptied;a.handleEmptied(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleStalled=function e(){var t=this.props,a=t.actions,n=t.onStalled;a.handleStalled(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleLoadedMetaData=function e(){var t=this.props,a=t.actions,n=t.onLoadedMetadata,o=t.startTime;o&&0<o&&(this.video.currentTime=o),a.handleLoadedMetaData(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleLoadedData=function e(){var t=this.props,a=t.actions,n=t.onLoadedData;a.handleLoadedData(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleTimeUpdate=function e(){var t=this.props,a=t.actions,n=t.onTimeUpdate;a.handleTimeUpdate(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleRateChange=function e(){var t=this.props,a=t.actions,n=t.onRateChange;a.handleRateChange(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleVolumeChange=function e(){var t=this.props,a=t.actions,n=t.onVolumeChange;a.handleVolumeChange(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleError=function e(){var t=this.props,a=t.actions,n=t.onError;a.handleError(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleResize=function e(){var t=this.props,a=t.actions,n=t.onResize;a.handleResize(this.getProperties()),n&&n.apply(void 0,arguments)},a.handleKeypress=function e(){},a.renderChildren=function e(){var t=this,a=u({},this.props,{video:this.video});return this.video?ye.Children.toArray(this.props.children).filter(Q).map(function(e){var n;if("string"!=typeof e.type)n=a;else if("source"===e.type){n=u({},e.props);var o=n.onError;n.onError=function(){o&&o.apply(void 0,arguments),t.handleError.apply(t,arguments)}}return ye.cloneElement(e,n)}):null},a.render=function e(){var t=this,a=this.props,n=a.loop,o=a.poster,r=a.preload,l=a.src,d=a.autoPlay,i=a.playsInline,s=a.muted,c=a.crossOrigin,p=a.videoId;return ye.createElement("video",{className:tt("video-react-video",this.props.className),id:p,crossOrigin:c,ref:function a(e){t.video=e},muted:s,preload:r,loop:n,playsInline:i,autoPlay:d,poster:o,src:l,onLoadStart:this.handleLoadStart,onWaiting:this.handleWaiting,onCanPlay:this.handleCanPlay,onCanPlayThrough:this.handleCanPlayThrough,onPlaying:this.handlePlaying,onEnded:this.handleEnded,onSeeking:this.handleSeeking,onSeeked:this.handleSeeked,onPlay:this.handlePlay,onPause:this.handlePause,onProgress:this.handleProgress,onDurationChange:this.handleDurationChange,onError:this.handleError,onSuspend:this.handleSuspend,onAbort:this.handleAbort,onEmptied:this.handleEmptied,onStalled:this.handleStalled,onLoadedMetadata:this.handleLoadedMetaData,onLoadedData:this.handleLoadedData,onTimeUpdate:this.handleTimeUpdate,onRateChange:this.handleRateChange,onVolumeChange:this.handleVolumeChange,tabIndex:"-1"},this.renderChildren())},s(t,[{key:"playbackRate",get:function e(){return this.video.playbackRate},set:function t(e){this.video.playbackRate=e}},{key:"muted",get:function e(){return this.video.muted},set:function t(e){this.video.muted=e}},{key:"volume",get:function e(){return this.video.volume},set:function t(e){1<e&&(e=1),0>e&&(e=0),this.video.volume=e}},{key:"videoWidth",get:function e(){return this.video.videoWidth}},{key:"videoHeight",get:function e(){return this.video.videoHeight}}]),t}(o.Component);kt.propTypes=Ct,kt.displayName="Video";var Tt={manager:et.object,className:et.string},Pt=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.timer=null,t.manager.subscribeToOperationStateChange(n.handleStateChange.bind(P(n))),n.state={hidden:!0,operation:{}},n}E(t,e);var a=t.prototype;return a.handleStateChange=function a(e,t){var n=this;e.count!==t.count&&"shortcut"===e.operation.source&&(this.timer&&(clearTimeout(this.timer),this.timer=null),this.setState({hidden:!1,count:e.count,operation:e.operation}),this.timer=setTimeout(function(){n.setState({hidden:!0}),n.timer=null},500))},a.render=function e(){if("shortcut"!==this.state.operation.source)return null;var t=this.state.hidden?{display:"none"}:null;return ye.createElement("div",{className:tt({"video-react-bezel":!0,"video-react-bezel-animation":0==this.state.count%2,"video-react-bezel-animation-alt":1==this.state.count%2},this.props.className),style:t,role:"status","aria-label":this.state.operation.action},ye.createElement("div",{className:tt("video-react-bezel-icon","video-react-bezel-icon-"+this.state.operation.action)}))},t}(o.Component);Pt.propTypes=Tt,Pt.displayName="Bezel";var Nt={clickable:et.bool,dblclickable:et.bool,manager:et.object,actions:et.object,player:et.object,shortcuts:et.array},St=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.defaultShortcuts=[{keyCode:32,handle:n.togglePlay},{keyCode:75,handle:n.togglePlay},{keyCode:70,handle:n.toggleFullscreen},{keyCode:37,handle:function a(e,t){e.hasStarted&&t.replay(5,{action:"replay-5",source:"shortcut"})}},{keyCode:74,handle:function a(e,t){e.hasStarted&&t.replay(10,{action:"replay-10",source:"shortcut"})}},{keyCode:39,handle:function a(e,t){e.hasStarted&&t.forward(5,{action:"forward-5",source:"shortcut"})}},{keyCode:76,handle:function a(e,t){e.hasStarted&&t.forward(10,{action:"forward-10",source:"shortcut"})}},{keyCode:36,handle:function a(e,t){e.hasStarted&&t.seek(0)}},{keyCode:35,handle:function a(e,t){e.hasStarted&&t.seek(e.duration)}},{keyCode:38,handle:function a(e,t){var n=e.volume+.05;1<n&&(n=1),t.changeVolume(n,{action:"volume-up",source:"shortcut"})}},{keyCode:40,handle:function a(e,t){var n=e.volume-.05;0>n&&(n=0);var o=0<n?"volume-down":"volume-off";t.changeVolume(n,{action:o,source:"shortcut"})}},{keyCode:190,shift:!0,handle:function a(e,t){var n=e.playbackRate;1.5<=n?n=2:1.25<=n?n=1.5:1<=n?n=1.25:.5<=n?n=1:.25<=n?n=.5:0<=n&&(n=.25),t.changeRate(n,{action:"fast-forward",source:"shortcut"})}},{keyCode:188,shift:!0,handle:function a(e,t){var n=e.playbackRate;.5>=n?n=.25:1>=n?n=.5:1.25>=n?n=1:1.5>=n?n=1.25:2>=n&&(n=1.5),t.changeRate(n,{action:"fast-rewind",source:"shortcut"})}}],n.shortcuts=[].concat(n.defaultShortcuts),n.mergeShortcuts=n.mergeShortcuts.bind(P(n)),n.handleKeyPress=n.handleKeyPress.bind(P(n)),n.handleClick=n.handleClick.bind(P(n)),n.handleDoubleClick=n.handleDoubleClick.bind(P(n)),n}E(t,e);var a=t.prototype;return a.componentDidMount=function e(){this.mergeShortcuts(),document.addEventListener("keydown",this.handleKeyPress),document.addEventListener("click",this.handleClick),document.addEventListener("dblclick",this.handleDoubleClick)},a.componentDidUpdate=function t(e){e.shortcuts!==this.props.shortcuts&&this.mergeShortcuts()},a.componentWillUnmount=function e(){document.removeEventListener("keydown",this.handleKeyPress),document.removeEventListener("click",this.handleClick),document.removeEventListener("dblclick",this.handleDoubleClick)},a.mergeShortcuts=function e(){var t=function t(e){var a=e.keyCode,n=void 0===a?0:a,o=e.ctrl,r=void 0!==o&&o,l=e.shift,d=void 0!==l&&l,i=e.alt,s=void 0!==i&&i;return n+":"+r+":"+d+":"+s},a=this.defaultShortcuts.reduce(function(e,a){var n;return Object.assign(e,(n={},n[t(a)]=a,n))},{}),n=(this.props.shortcuts||[]).reduce(function(e,a){var n=a.keyCode,o=a.handle;if(n&&"function"==typeof o){var r;return Object.assign(e,(r={},r[t(a)]=a,r))}return e},a),o=function t(e){var a=0,n=["ctrl","shift","alt"];return n.forEach(function(t){e[t]&&a++}),a};this.shortcuts=Object.keys(n).map(function(e){return n[e]}).sort(function(e,t){return o(t)-o(e)})},a.togglePlay=function a(e,t){e.paused?t.play({action:"play",source:"shortcut"}):t.pause({action:"pause",source:"shortcut"})},a.toggleFullscreen=function a(e,t){t.toggleFullscreen(e)},a.handleKeyPress=function e(t){var a=this.props,n=a.player,o=a.actions;if(n.isActive&&!(document.activeElement&&(le(document.activeElement,"video-react-control")||le(document.activeElement,"video-react-menu-button-active")||le(document.activeElement,"video-react-big-play-button")))){var r=t.keyCode||t.which,l=t.ctrlKey||t.metaKey,d=t.shiftKey,i=t.altKey,s=this.shortcuts.filter(function(e){return!!(e.keyCode&&0==e.keyCode-r)&&(void 0===e.ctrl||e.ctrl===l)&&(void 0===e.shift||e.shift===d)&&(void 0===e.alt||e.alt===i)})[0];s&&(s.handle(n,o),t.preventDefault())}},a.canBeClicked=function e(t,a){return!!(t.isActive&&"VIDEO"===a.target.nodeName&&4===t.readyState)},a.handleClick=function e(t){var a=this.props,n=a.player,o=a.actions,r=a.clickable;this.canBeClicked(n,t)&&r&&this.togglePlay(n,o)},a.handleDoubleClick=function e(t){var a=this.props,n=a.player,o=a.actions,r=a.dblclickable;this.canBeClicked(n,t)&&r&&this.toggleFullscreen(n,o)},a.render=function e(){return null},t}(o.Component);St.propTypes=Nt,St.defaultProps={clickable:!0,dblclickable:!0},St.displayName="Shortcut";var At={className:et.string,onMouseDown:et.func,onMouseMove:et.func,stepForward:et.func,stepBack:et.func,sliderActive:et.func,sliderInactive:et.func,onMouseUp:et.func,onFocus:et.func,onBlur:et.func,onClick:et.func,getPercent:et.func,vertical:et.bool,children:et.node,label:et.string,valuenow:et.string,valuetext:et.string},Mt=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleMouseDown=n.handleMouseDown.bind(P(n)),n.handleMouseMove=n.handleMouseMove.bind(P(n)),n.handleMouseUp=n.handleMouseUp.bind(P(n)),n.handleFocus=n.handleFocus.bind(P(n)),n.handleBlur=n.handleBlur.bind(P(n)),n.handleClick=n.handleClick.bind(P(n)),n.handleKeyPress=n.handleKeyPress.bind(P(n)),n.stepForward=n.stepForward.bind(P(n)),n.stepBack=n.stepBack.bind(P(n)),n.calculateDistance=n.calculateDistance.bind(P(n)),n.getProgress=n.getProgress.bind(P(n)),n.renderChildren=n.renderChildren.bind(P(n)),n.state={active:!1},n}E(t,e);var a=t.prototype;return a.componentWillUnmount=function e(){document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0),document.removeEventListener("touchmove",this.handleMouseMove,!0),document.removeEventListener("touchend",this.handleMouseUp,!0),document.removeEventListener("keydown",this.handleKeyPress,!0)},a.getProgress=function e(){var t=this.props.getPercent;if(!t)return 0;var a=t();return("number"!=typeof a||0>a||a===1/0)&&(a=0),a},a.handleMouseDown=function t(e){var a=this.props.onMouseDown;document.addEventListener("mousemove",this.handleMouseMove,!0),document.addEventListener("mouseup",this.handleMouseUp,!0),document.addEventListener("touchmove",this.handleMouseMove,!0),document.addEventListener("touchend",this.handleMouseUp,!0),this.setState({active:!0}),this.props.sliderActive&&this.props.sliderActive(e),this.handleMouseMove(e),a&&a(e)},a.handleMouseMove=function t(e){var a=this.props.onMouseMove;a&&a(e)},a.handleMouseUp=function t(e){e.preventDefault();var a=this.props.onMouseUp;document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0),document.removeEventListener("touchmove",this.handleMouseMove,!0),document.removeEventListener("touchend",this.handleMouseUp,!0),this.setState({active:!1}),this.props.sliderInactive&&this.props.sliderInactive(e),a&&a(e)},a.handleFocus=function e(t){document.addEventListener("keydown",this.handleKeyPress,!0),this.props.onFocus&&this.props.onFocus(t)},a.handleBlur=function e(t){document.removeEventListener("keydown",this.handleKeyPress,!0),this.props.onBlur&&this.props.onBlur(t)},a.handleClick=function t(e){e.preventDefault(),this.props.onClick&&this.props.onClick(e)},a.handleKeyPress=function t(e){37===e.which||40===e.which?(e.preventDefault(),e.stopPropagation(),this.stepBack()):(38===e.which||39===e.which)&&(e.preventDefault(),e.stopPropagation(),this.stepForward())},a.stepForward=function e(){this.props.stepForward&&this.props.stepForward()},a.stepBack=function e(){this.props.stepBack&&this.props.stepBack()},a.calculateDistance=function t(e){var a=this.slider,n=oe(a,e);return this.props.vertical?n.y:n.x},a.renderChildren=function e(){var t=this.getProgress(),a=(100*t).toFixed(2)+"%";return ye.Children.map(this.props.children,function(e){return ye.cloneElement(e,{progress:t,percentage:a})})},a.render=function e(){var t=this,a=this.props,n=a.vertical,o=a.label,r=a.valuenow,l=a.valuetext;return ye.createElement("div",{className:tt(this.props.className,{"video-react-slider-vertical":n,"video-react-slider-horizontal":!n,"video-react-sliding":this.state.active},"video-react-slider"),ref:function a(e){t.slider=e},tabIndex:"0",role:"slider",onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,"aria-label":o||"","aria-valuenow":r||"","aria-valuetext":l||"","aria-valuemin":0,"aria-valuemax":100},this.renderChildren())},t}(o.Component);Mt.propTypes=At,Mt.displayName="Slider";var Dt={currentTime:et.number,duration:et.number,percentage:et.string,className:et.string};de.propTypes=Dt,de.displayName="PlayProgressBar";var wt={duration:et.number,buffered:et.object,className:et.string};ie.propTypes=wt,ie.displayName="LoadProgressBar",se.propTypes={duration:et.number,mouseTime:et.object,className:et.string},se.displayName="MouseTimeDisplay";var Rt={player:et.object,mouseTime:et.object,actions:et.object,className:et.string},It=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.getPercent=n.getPercent.bind(P(n)),n.getNewTime=n.getNewTime.bind(P(n)),n.stepForward=n.stepForward.bind(P(n)),n.stepBack=n.stepBack.bind(P(n)),n.handleMouseDown=n.handleMouseDown.bind(P(n)),n.handleMouseMove=n.handleMouseMove.bind(P(n)),n.handleMouseUp=n.handleMouseUp.bind(P(n)),n}E(t,e);var a=t.prototype;return a.componentDidMount=function e(){},a.componentDidUpdate=function e(){},a.getPercent=function e(){var t=this.props.player,a=t.currentTime,n=t.seekingTime,o=t.duration,r=n||a,l=r/o;return 1<=l?1:l},a.getNewTime=function t(e){var a=this.props.player.duration,n=this.slider.calculateDistance(e),o=n*a;return o===a?o-.1:o},a.handleMouseDown=function e(){},a.handleMouseUp=function t(e){var a=this.props.actions,n=this.getNewTime(e);a.seek(n),a.handleEndSeeking(n)},a.handleMouseMove=function t(e){var a=this.props.actions,n=this.getNewTime(e);a.handleSeekingTime(n)},a.stepForward=function e(){var t=this.props.actions;t.forward(5)},a.stepBack=function e(){var t=this.props.actions;t.replay(5)},a.render=function e(){var t=this,a=this.props,n=a.player,o=n.currentTime,r=n.seekingTime,l=n.duration,d=n.buffered,i=a.mouseTime,s=r||o;return ye.createElement(Mt,{ref:function a(e){t.slider=e},label:"video progress bar",className:tt("video-react-progress-holder",this.props.className),valuenow:(100*this.getPercent()).toFixed(2),valuetext:J(s,l),onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,getPercent:this.getPercent,stepForward:this.stepForward,stepBack:this.stepBack},ye.createElement(ie,{buffered:d,currentTime:s,duration:l}),ye.createElement(se,{duration:l,mouseTime:i}),ye.createElement(de,{currentTime:s,duration:l}))},t}(o.Component);It.propTypes=Rt,It.displayName="SeekBar";var xt={player:et.object,className:et.string},Lt=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.state={mouseTime:{time:null,position:0}},n.handleMouseMoveThrottle=n.handleMouseMove.bind(P(n)),n}E(t,e);var a=t.prototype;return a.handleMouseMove=function t(e){if(e.pageX){var a=this.props.player.duration,n=this.seekBar,o=oe(n,e).x*a,r=e.pageX-ne(n).left;this.setState({mouseTime:{time:o,position:r}})}},a.render=function e(){var t=this,a=this.props.className;return ye.createElement("div",{onMouseMove:this.handleMouseMoveThrottle,className:tt("video-react-progress-control video-react-control",a)},ye.createElement(It,u({mouseTime:this.state.mouseTime,ref:function a(e){t.seekBar=e}},this.props)))},t}(o.Component);Lt.propTypes=xt,Lt.displayName="ProgressControl";var Ft={actions:et.object,player:et.object,className:et.string},_t=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleClick=n.handleClick.bind(P(n)),n}E(t,e);var a=t.prototype;return a.handleClick=function e(){var t=this.props,a=t.actions,n=t.player;n.paused?a.play():a.pause()},a.render=function e(){var t=this,a=this.props,n=a.player,o=a.className,r=n.paused?"Play":"Pause";return ye.createElement("button",{ref:function a(e){t.button=e},className:tt(o,{"video-react-play-control":!0,"video-react-control":!0,"video-react-button":!0,"video-react-paused":n.paused,"video-react-playing":!n.paused}),type:"button",tabIndex:"0",onClick:this.handleClick},ye.createElement("span",{className:"video-react-control-text"},r))},t}(o.Component);_t.propTypes=Ft,_t.displayName="PlayToggle";var Ot={actions:et.object,className:et.string,seconds:et.oneOf([5,10,30])},Bt={seconds:10},Ut=function(e){var t=function(t){function a(e,a){var n;return n=t.call(this,e,a)||this,n.handleClick=n.handleClick.bind(P(n)),n}E(a,t);var n=a.prototype;return n.handleClick=function t(){var a=this.props,n=a.actions,o=a.seconds;"forward"===e?n.forward(o):n.replay(o)},n.render=function t(){var a=this,n=this.props,o=n.seconds,r=n.className,l=["video-react-control","video-react-button","video-react-icon"];return l.push("video-react-icon-"+e+"-"+o,"video-react-"+e+"-control"),r&&l.push(r),ye.createElement("button",{ref:function t(e){a.button=e},className:l.join(" "),type:"button",onClick:this.handleClick},ye.createElement("span",{className:"video-react-control-text"},e+" "+o+" seconds"))},a}(o.Component);return t.propTypes=Ot,t.defaultProps=Bt,t},jt=Ut("forward");jt.displayName="ForwardControl";var Kt=Ut("replay");Kt.displayName="ReplayControl";var Gt={actions:et.object,player:et.object,className:et.string},Ht=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleClick=n.handleClick.bind(P(n)),n}E(t,e);var a=t.prototype;return a.handleClick=function e(){var t=this.props,a=t.player,n=t.actions;n.toggleFullscreen(a)},a.render=function e(){var t=this,a=this.props,n=a.player,o=a.className;return ye.createElement("button",{className:tt(o,{"video-react-icon-fullscreen-exit":n.isFullscreen,"video-react-icon-fullscreen":!n.isFullscreen},"video-react-fullscreen-control video-react-control video-react-button video-react-icon"),ref:function a(e){t.button=e},type:"button",tabIndex:"0",onClick:this.handleClick},ye.createElement("span",{className:"video-react-control-text"},"Non-Fullscreen"))},t}(o.Component);Ht.propTypes=Gt,Ht.displayName="FullscreenToggle";var Vt={player:et.object,className:et.string};ce.propTypes=Vt,ce.displayName="RemainingTimeDisplay";var zt={player:et.object,className:et.string};pe.propTypes=zt,pe.displayName="CurrentTimeDisplay";var Wt={player:et.object,className:et.string};ue.propTypes=Wt,ue.displayName="DurationDisplay";var $t={separator:et.string,className:et.string};he.propTypes=$t,he.displayName="TimeDivider";var Yt={tagName:et.string,onClick:et.func.isRequired,onFocus:et.func,onBlur:et.func,className:et.string},qt=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleClick=n.handleClick.bind(P(n)),n.handleFocus=n.handleFocus.bind(P(n)),n.handleBlur=n.handleBlur.bind(P(n)),n.handleKeypress=n.handleKeypress.bind(P(n)),n}E(t,e);var a=t.prototype;return a.componentWillUnmount=function e(t){this.handleBlur(t)},a.handleKeypress=function t(e){(32===e.which||13===e.which)&&(e.preventDefault(),this.handleClick(e))},a.handleClick=function t(e){var a=this.props.onClick;a(e)},a.handleFocus=function e(t){document.addEventListener("keydown",this.handleKeypress),this.props.onFocus&&this.props.onFocus(t)},a.handleBlur=function e(t){document.removeEventListener("keydown",this.handleKeypress),this.props.onBlur&&this.props.onBlur(t)},a.render=function e(){var t=this.props.tagName,a=u({},this.props);return delete a.tagName,delete a.className,ye.createElement(t,u({className:tt(this.props.className),role:"button",tabIndex:"0",onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},a))},t}(o.Component);qt.propTypes=Yt,qt.defaultProps={tagName:"div"},qt.displayName="ClickableComponent";var Xt={player:et.object,children:et.any},Zt=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleClick=n.handleClick.bind(P(n)),n}E(t,e);var a=t.prototype;return a.handleClick=function t(e){e.preventDefault()},a.render=function e(){var t=this.props.children;return ye.createElement("div",{className:"video-react-menu",onClick:this.handleClick},ye.createElement("div",{className:"video-react-menu-content"},t))},t}(o.Component);Zt.propTypes=Xt,Zt.displayName="Popup";var Jt={inline:et.bool,onClick:et.func.isRequired,onFocus:et.func,onBlur:et.func,className:et.string};me.propTypes=Jt,me.defaultProps={inline:!0},me.displayName="PopupButton";var Qt={percentage:et.string,vertical:et.bool,className:et.string};ve.propTypes=Qt,ve.defaultProps={percentage:"100%",vertical:!1},ve.displayName="VolumeLevel";var ea={actions:et.object,player:et.object,className:et.string,onFocus:et.func,onBlur:et.func},ta=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.state={percentage:"0%"},n.handleMouseMove=n.handleMouseMove.bind(P(n)),n.handlePercentageChange=n.handlePercentageChange.bind(P(n)),n.checkMuted=n.checkMuted.bind(P(n)),n.getPercent=n.getPercent.bind(P(n)),n.stepForward=n.stepForward.bind(P(n)),n.stepBack=n.stepBack.bind(P(n)),n.handleFocus=n.handleFocus.bind(P(n)),n.handleBlur=n.handleBlur.bind(P(n)),n.handleClick=n.handleClick.bind(P(n)),n}E(t,e);var a=t.prototype;return a.componentDidMount=function e(){},a.getPercent=function e(){var t=this.props.player;return t.muted?0:t.volume},a.checkMuted=function e(){var t=this.props,a=t.player,n=t.actions;a.muted&&n.mute(!1)},a.handleMouseMove=function t(e){var a=this.props.actions;this.checkMuted();var n=this.slider.calculateDistance(e);a.changeVolume(n)},a.stepForward=function e(){var t=this.props,a=t.player,n=t.actions;this.checkMuted(),n.changeVolume(a.volume+.1)},a.stepBack=function e(){var t=this.props,a=t.player,n=t.actions;this.checkMuted(),n.changeVolume(a.volume-.1)},a.handleFocus=function e(t){this.props.onFocus&&this.props.onFocus(t)},a.handleBlur=function e(t){this.props.onBlur&&this.props.onBlur(t)},a.handlePercentageChange=function t(e){e!==this.state.percentage&&this.setState({percentage:e})},a.handleClick=function t(e){e.stopPropagation()},a.render=function e(){var t=this,a=this.props,n=a.player,o=a.className,r=(100*n.volume).toFixed(2);return ye.createElement(Mt,u({ref:function a(e){t.slider=e},label:"volume level",valuenow:r,valuetext:r+"%",onMouseMove:this.handleMouseMove,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,sliderActive:this.handleFocus,sliderInactive:this.handleBlur,getPercent:this.getPercent,onPercentageChange:this.handlePercentageChange,stepForward:this.stepForward,stepBack:this.stepBack},this.props,{className:tt(o,"video-react-volume-bar video-react-slider-bar")}),ye.createElement(ve,this.props))},t}(o.Component);ta.propTypes=ea,ta.displayName="VolumeBar";var aa={player:et.object,actions:et.object,vertical:et.bool,className:et.string,alwaysShowVolume:et.bool},na=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.state={active:!1},n.handleClick=n.handleClick.bind(P(n)),n.handleFocus=n.handleFocus.bind(P(n)),n.handleBlur=n.handleBlur.bind(P(n)),n}E(t,e);var a=t.prototype;return a.handleClick=function e(){var t=this.props,a=t.player,n=t.actions;n.mute(!a.muted)},a.handleFocus=function e(){this.setState({active:!0})},a.handleBlur=function e(){this.setState({active:!1})},a.render=function e(){var t=this.props,a=t.vertical,n=t.player,o=t.className,r=!a,l=this.volumeLevel;return ye.createElement(me,{className:tt(o,{"video-react-volume-menu-button-vertical":a,"video-react-volume-menu-button-horizontal":!a,"video-react-vol-muted":n.muted,"video-react-vol-0":0===l&&!n.muted,"video-react-vol-1":1===l,"video-react-vol-2":2===l,"video-react-vol-3":3===l,"video-react-slider-active":this.props.alwaysShowVolume||this.state.active,"video-react-lock-showing":this.props.alwaysShowVolume||this.state.active},"video-react-volume-menu-button"),onClick:this.handleClick,inline:r},ye.createElement(ta,u({onFocus:this.handleFocus,onBlur:this.handleBlur},this.props)))},s(t,[{key:"volumeLevel",get:function e(){var t=this.props.player,a=t.volume,n=t.muted,o=3;return 0===a||n?o=0:.33>a?o=1:.67>a&&(o=2),o}}]),t}(o.Component);na.propTypes=aa,na.defaultProps={vertical:!1},na.displayName="VolumeMenuButton";var oa={children:et.any},ra=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleClick=n.handleClick.bind(P(n)),n}E(t,e);var a=t.prototype;return a.handleClick=function t(e){e.preventDefault()},a.render=function e(){return ye.createElement("div",{className:"video-react-menu video-react-lock-showing",role:"presentation",onClick:this.handleClick},ye.createElement("ul",{className:"video-react-menu-content"},this.props.children))},t}(o.Component);ra.propTypes=oa,ra.displayName="Menu";var la={item:et.object,index:et.number,activateIndex:et.number,onSelectItem:et.func},da=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleClick=n.handleClick.bind(P(n)),n}E(t,e);var a=t.prototype;return a.handleClick=function e(){var t=this.props,a=t.index,n=t.onSelectItem;n(a)},a.render=function e(){var t=this.props,a=t.item,n=t.index,o=t.activateIndex;return ye.createElement("li",{className:tt({"video-react-menu-item":!0,"video-react-selected":n===o}),role:"menuitem",onClick:this.handleClick},a.label,ye.createElement("span",{className:"video-react-control-text"}))},t}(o.Component);da.propTypes=la,da.displayName="MenuItem";var ia={inline:et.bool,items:et.array,className:et.string,onSelectItem:et.func,children:et.any,selectedIndex:et.number},sa=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.state={active:!1,activateIndex:t.selectedIndex||0},n.commitSelection=n.commitSelection.bind(P(n)),n.activateMenuItem=n.activateMenuItem.bind(P(n)),n.handleClick=n.handleClick.bind(P(n)),n.renderMenu=n.renderMenu.bind(P(n)),n.handleFocus=n.handleFocus.bind(P(n)),n.handleBlur=n.handleBlur.bind(P(n)),n.handleUpArrow=n.handleUpArrow.bind(P(n)),n.handleDownArrow=n.handleDownArrow.bind(P(n)),n.handleEscape=n.handleEscape.bind(P(n)),n.handleReturn=n.handleReturn.bind(P(n)),n.handleTab=n.handleTab.bind(P(n)),n.handleKeyPress=n.handleKeyPress.bind(P(n)),n.handleSelectItem=n.handleSelectItem.bind(P(n)),n.handleIndexChange=n.handleIndexChange.bind(P(n)),n}E(t,e);var a=t.prototype;return a.componentDidUpdate=function t(e){e.selectedIndex!==this.props.selectedIndex&&this.activateMenuItem(this.props.selectedIndex)},a.commitSelection=function t(e){this.setState({activateIndex:e}),this.handleIndexChange(e)},a.activateMenuItem=function t(e){this.setState({activateIndex:e}),this.handleIndexChange(e)},a.handleIndexChange=function t(e){var a=this.props.onSelectItem;a(e)},a.handleClick=function e(){this.setState(function(e){return{active:!e.active}})},a.handleFocus=function e(){document.addEventListener("keydown",this.handleKeyPress)},a.handleBlur=function e(){this.setState({active:!1}),document.removeEventListener("keydown",this.handleKeyPress)},a.handleUpArrow=function e(t){var a=this.props.items;if(this.state.active){t.preventDefault();var n=this.state.activateIndex-1;0>n&&(n=a.length?a.length-1:0),this.activateMenuItem(n)}},a.handleDownArrow=function e(t){var a=this.props.items;if(this.state.active){t.preventDefault();var n=this.state.activateIndex+1;n>=a.length&&(n=0),this.activateMenuItem(n)}},a.handleTab=function e(t){this.state.active&&(t.preventDefault(),this.commitSelection(this.state.activateIndex))},a.handleReturn=function e(t){t.preventDefault(),this.state.active?this.commitSelection(this.state.activateIndex):this.setState({active:!0})},a.handleEscape=function e(){this.setState({active:!1,activateIndex:0})},a.handleKeyPress=function t(e){27===e.which?this.handleEscape(e):9===e.which?this.handleTab(e):13===e.which?this.handleReturn(e):38===e.which?this.handleUpArrow(e):40===e.which&&this.handleDownArrow(e)},a.handleSelectItem=function t(e){this.commitSelection(e)},a.renderMenu=function e(){var t=this;if(!this.state.active)return null;var a=this.props.items;return ye.createElement(ra,null,a.map(function(e,a){return ye.createElement(da,{item:e,index:a,onSelectItem:t.handleSelectItem,activateIndex:t.state.activateIndex,key:"item-"+a++})}))},a.render=function e(){var t=this,a=this.props,n=a.inline,o=a.className;return ye.createElement(qt,{className:tt(o,{"video-react-menu-button-inline":!!n,"video-react-menu-button-popup":!n,"video-react-menu-button-active":this.state.active},"video-react-control video-react-button video-react-menu-button"),role:"button",tabIndex:"0",ref:function a(e){t.menuButton=e},onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},this.props.children,this.renderMenu())},t}(o.Component);sa.propTypes=ia,sa.displayName="MenuButton";var ca={player:et.object,actions:et.object,rates:et.array,className:et.string},pa=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.handleSelectItem=n.handleSelectItem.bind(P(n)),n}E(t,e);var a=t.prototype;return a.handleSelectItem=function t(e){var a=this.props,n=a.rates,o=a.actions;0<=e&&e<n.length&&o.changeRate(n[e])},a.render=function e(){var t=this.props,a=t.rates,n=t.player,o=a.map(function(e){return{label:e+"x",value:e}}),r=a.indexOf(n.playbackRate)||0;return ye.createElement(sa,{className:tt("video-react-playback-rate",this.props.className),onSelectItem:this.handleSelectItem,items:o,selectedIndex:r},ye.createElement("span",{className:"video-react-control-text"},"Playback Rate"),ye.createElement("div",{className:"video-react-playback-rate-value"},n.playbackRate.toFixed(2)+"x"))},t}(o.Component);pa.propTypes=ca,pa.defaultProps={rates:[2,1.5,1.25,1,.5,.25]},pa.displayName="PlaybackRateMenuButton";var ua=["className"],ha={children:et.any,autoHide:et.bool,autoHideTime:et.number,disableDefaultControls:et.bool,disableCompletely:et.bool,className:et.string},ma=function(e){function t(t){var a;return a=e.call(this,t)||this,a.getDefaultChildren=a.getDefaultChildren.bind(P(a)),a.getFullChildren=a.getFullChildren.bind(P(a)),a}E(t,e);var a=t.prototype;return a.getDefaultChildren=function e(){return[ye.createElement(_t,{key:"play-toggle",order:1}),ye.createElement(na,{key:"volume-menu-button",order:4}),ye.createElement(pe,{key:"current-time-display",order:5.1}),ye.createElement(he,{key:"time-divider",order:5.2}),ye.createElement(ue,{key:"duration-display",order:5.3}),ye.createElement(Lt,{key:"progress-control",order:6}),ye.createElement(Ht,{key:"fullscreen-toggle",order:8})]},a.getFullChildren=function e(){return[ye.createElement(_t,{key:"play-toggle",order:1}),ye.createElement(Kt,{key:"replay-control",order:2}),ye.createElement(jt,{key:"forward-control",order:3}),ye.createElement(na,{key:"volume-menu-button",order:4}),ye.createElement(pe,{key:"current-time-display",order:5}),ye.createElement(he,{key:"time-divider",order:6}),ye.createElement(ue,{key:"duration-display",order:7}),ye.createElement(Lt,{key:"progress-control",order:8}),ye.createElement(ce,{key:"remaining-time-display",order:9}),ye.createElement(pa,{rates:[1,1.25,1.5,2],key:"playback-rate",order:10}),ye.createElement(Ht,{key:"fullscreen-toggle",order:11})]},a.getChildren=function e(){var t=ye.Children.toArray(this.props.children),a=this.props.disableDefaultControls?[]:this.getDefaultChildren(),n=this.props,o=n.className,r=T(n,ua);return ee(a,t,r)},a.render=function e(){var t=this.props,a=t.autoHide,n=t.className,o=t.disableCompletely,r=this.getChildren();return o?null:ye.createElement("div",{className:tt("video-react-control-bar",{"video-react-control-bar-auto-hide":a},n)},r)},t}(o.Component);ma.propTypes=ha,ma.defaultProps={autoHide:!0,disableCompletely:!1},ma.displayName="ControlBar";var va="undefined"!=typeof window&&window.navigator?window.navigator.userAgent:"",ya=/iPad/i.test(va),ga=/iPhone/i.test(va)&&!ya,ba=/iPod/i.test(va),Ea=["className","children"],fa={children:et.any,width:et.oneOfType([et.string,et.number]),height:et.oneOfType([et.string,et.number]),fluid:et.bool,muted:et.bool,playsInline:et.bool,aspectRatio:et.string,className:et.string,videoId:et.string,startTime:et.number,loop:et.bool,autoPlay:et.bool,src:et.string,poster:et.string,preload:et.oneOf(["auto","metadata","none"]),onLoadStart:et.func,onWaiting:et.func,onCanPlay:et.func,onCanPlayThrough:et.func,onPlaying:et.func,onEnded:et.func,onSeeking:et.func,onSeeked:et.func,onPlay:et.func,onPause:et.func,onProgress:et.func,onDurationChange:et.func,onError:et.func,onSuspend:et.func,onAbort:et.func,onEmptied:et.func,onStalled:et.func,onLoadedMetadata:et.func,onLoadedData:et.func,onTimeUpdate:et.func,onRateChange:et.func,onVolumeChange:et.func,store:et.object},Ca=function(e){function t(t){var a;return a=e.call(this,t)||this,a.controlsHideTimer=null,a.video=null,a.manager=new pt(t.store),a.actions=a.manager.getActions(),a.manager.subscribeToPlayerStateChange(a.handleStateChange.bind(P(a))),a.getStyle=a.getStyle.bind(P(a)),a.handleResize=a.handleResize.bind(P(a)),a.getChildren=a.getChildren.bind(P(a)),a.handleMouseMove=ae(a.handleMouseMove.bind(P(a)),250),a.handleMouseDown=a.handleMouseDown.bind(P(a)),a.startControlsTimer=a.startControlsTimer.bind(P(a)),a.handleFullScreenChange=a.handleFullScreenChange.bind(P(a)),a.handleKeyDown=a.handleKeyDown.bind(P(a)),a.handleFocus=a.handleFocus.bind(P(a)),a.handleBlur=a.handleBlur.bind(P(a)),a}E(t,e);var a=t.prototype;return a.componentDidMount=function e(){this.handleResize(),window.addEventListener("resize",this.handleResize),dt.addEventListener(this.handleFullScreenChange)},a.componentWillUnmount=function e(){window.removeEventListener("resize",this.handleResize),dt.removeEventListener(this.handleFullScreenChange),this.controlsHideTimer&&window.clearTimeout(this.controlsHideTimer)},a.getDefaultChildren=function t(e){var a=this;return[ye.createElement(kt,{ref:function t(e){a.video=e,a.manager.video=a.video},key:"video",order:0},e),ye.createElement(Z,{key:"poster-image",order:1}),ye.createElement(X,{key:"loading-spinner",order:2}),ye.createElement(Pt,{key:"bezel",order:3}),ye.createElement(ht,{key:"big-play-button",order:4}),ye.createElement(ma,{key:"control-bar",order:5}),ye.createElement(St,{key:"shortcut",order:99})]},a.getChildren=function t(e){var a=e.className,n=e.children,o=T(e,Ea),r=ye.Children.toArray(this.props.children).filter(function(t){return!Q(t)}),l=this.getDefaultChildren(n);return ee(l,r,o)},a.setWidthOrHeight=function n(e,t,a){var o,r;"string"==typeof a?"auto"===a?r="auto":a.match(/\d+%/)&&(r=a):"number"==typeof a&&(r=a+"px"),Object.assign(e,(o={},o[t]=r,o))},a.getStyle=function e(){var t,a,n,o=this.props,r=o.fluid,l=o.aspectRatio,d=o.height,i=o.width,s=this.manager.getState(),c=s.player,p={};n=void 0!==l&&"auto"!==l?l:c.videoWidth?c.videoWidth+":"+c.videoHeight:"16:9";var u=n.split(":"),h=u[1]/u[0];return t=void 0===i?void 0===d?c.videoWidth||400:d/h:i,a=void 0===d?t*h:d,r?p.paddingTop=100*h+"%":(this.setWidthOrHeight(p,"width",t),this.setWidthOrHeight(p,"height",a)),p},a.getState=function e(){return this.manager.getState()},a.play=function e(){this.video.play()},a.pause=function e(){this.video.pause()},a.load=function e(){this.video.load()},a.addTextTrack=function e(){var t;(t=this.video).addTextTrack.apply(t,arguments)},a.canPlayType=function e(){var t;(t=this.video).canPlayType.apply(t,arguments)},a.seek=function t(e){this.video.seek(e)},a.forward=function t(e){this.video.forward(e)},a.replay=function t(e){this.video.replay(e)},a.toggleFullscreen=function e(){this.video.toggleFullscreen()},a.subscribeToStateChange=function t(e){return this.manager.subscribeToPlayerStateChange(e)},a.handleResize=function e(){},a.handleFullScreenChange=function t(e){e.target===this.manager.rootElement&&this.actions.handleFullscreenChange(dt.isFullscreen)},a.handleMouseDown=function e(){this.startControlsTimer()},a.handleMouseMove=function e(){this.startControlsTimer()},a.handleKeyDown=function e(){this.startControlsTimer()},a.startControlsTimer=function e(){var t=this,a=3e3;ye.Children.forEach(this.props.children,function(e){if(ye.isValidElement(e)&&e.type===ma){var t=e.props.autoHideTime;"number"==typeof t&&(a=t)}}),this.actions.userActivate(!0),clearTimeout(this.controlsHideTimer),this.controlsHideTimer=setTimeout(function(){t.actions.userActivate(!1)},a)},a.handleStateChange=function a(e,t){e.isFullscreen!==t.isFullscreen&&(this.handleResize(),re(this.manager.rootElement)),this.forceUpdate()},a.handleFocus=function e(){this.actions.activate(!0)},a.handleBlur=function e(){this.actions.activate(!1)},a.render=function e(){var t=this,a=this.props.fluid,n=this.manager.getState(),o=n.player,r=o.paused,l=o.hasStarted,d=o.waiting,i=o.seeking,s=o.isFullscreen,c=o.userActivity,p=u({},this.props,{player:o,actions:this.actions,manager:this.manager,store:this.manager.store,video:this.video?this.video.video:null}),h=this.getChildren(p);return ye.createElement("div",{className:tt({"video-react-controls-enabled":!0,"video-react-has-started":l,"video-react-paused":r,"video-react-playing":!r,"video-react-waiting":d,"video-react-seeking":i,"video-react-fluid":a,"video-react-fullscreen":s,"video-react-user-inactive":!c,"video-react-user-active":c,"video-react-workinghover":!(ga||ya||ba)},"video-react",this.props.className),style:this.getStyle(),ref:function a(e){t.manager.rootElement=e},role:"region",onTouchStart:this.handleMouseDown,onMouseDown:this.handleMouseDown,onTouchMove:this.handleMouseMove,onMouseMove:this.handleMouseMove,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:"-1"},h)},s(t,[{key:"playbackRate",get:function e(){return this.video.playbackRate},set:function t(e){this.video.playbackRate=e}},{key:"muted",get:function e(){return this.video.muted},set:function t(e){this.video.muted=e}},{key:"volume",get:function e(){return this.video.volume},set:function t(e){this.video.volume=e}},{key:"videoWidth",get:function e(){return this.video.videoWidth}},{key:"videoHeight",get:function e(){return this.video.videoHeight}}]),t}(o.Component);Ca.contextTypes={store:et.object},Ca.propTypes=fa,Ca.defaultProps={fluid:!0,muted:!1,playsInline:!1,preload:"auto",aspectRatio:"auto"},Ca.displayName="Player";var ka=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,te("PlaybackRate","PlaybackRateMenuButton"),n}E(t,e);var a=t.prototype;return a.render=function e(){return ye.createElement(pa,this.props)},t}(o.Component);ka.displayName="PlaybackRate";var Ta={player:et.object,actions:et.object,className:et.string,offMenuText:et.string,showOffMenu:et.bool,kinds:et.array},Pa=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,n.getTextTrackItems=n.getTextTrackItems.bind(P(n)),n.updateState=n.updateState.bind(P(n)),n.handleSelectItem=n.handleSelectItem.bind(P(n)),n.state=n.getTextTrackItems(),n}E(t,e);var a=t.prototype;return a.componentDidUpdate=function e(){this.updateState()},a.getTextTrackItems=function e(){var t=this.props,a=t.kinds,n=t.player,o=t.offMenuText,r=t.showOffMenu,l=n.textTracks,d=n.activeTextTrack,i={items:[],selectedIndex:0},s=Array.from(l||[]);return 0===s.length?i:(r&&i.items.push({label:o||"Off",value:null}),s.forEach(function(e){a.length&&!a.includes(e.kind)||i.items.push({label:e.label,value:e.language})}),i.selectedIndex=i.items.findIndex(function(e){return d&&d.language===e.value}),-1===i.selectedIndex&&(i.selectedIndex=0),i)},a.updateState=function e(){var t=this.getTextTrackItems();t.selectedIndex===this.state.selectedIndex&&this.textTrackItemsAreEqual(t.items,this.state.items)||this.setState(t)},a.textTrackItemsAreEqual=function a(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!t[n]||e[n].label!==t[n].label||e[n].value!==t[n].value)return!1;return!0},a.handleSelectItem=function t(e){var a=this.props,n=a.player,o=a.actions,r=a.showOffMenu,l=n.textTracks;Array.from(l).forEach(function(t,a){e===(r?a+1:a)?(t.mode="showing",o.activateTextTrack(t)):t.mode="hidden"})},a.render=function e(){var t=this.state,a=t.items,n=t.selectedIndex;return ye.createElement(sa,{className:tt("video-react-closed-caption",this.props.className),onSelectItem:this.handleSelectItem,items:a,selectedIndex:n},ye.createElement("span",{className:"video-react-control-text"},"Closed Caption"))},t}(o.Component);Pa.propTypes=Ta,Pa.defaultProps={offMenuText:"Off",showOffMenu:!0,kinds:["captions","subtitles"]},Pa.displayName="ClosedCaptionButton",a.Bezel=Pt,a.BigPlayButton=ht,a.ClosedCaptionButton=Pa,a.ControlBar=ma,a.CurrentTimeDisplay=pe,a.DurationDisplay=ue,a.ForwardControl=jt,a.FullscreenToggle=Ht,a.LoadProgressBar=ie,a.LoadingSpinner=X,a.MenuButton=sa,a.MouseTimeDisplay=se,a.PlayProgressBar=de,a.PlayToggle=_t,a.PlaybackRate=ka,a.PlaybackRateMenuButton=pa,a.Player=Ca,a.PosterImage=Z,a.ProgressControl=Lt,a.RemainingTimeDisplay=ce,a.ReplayControl=Kt,a.SeekBar=It,a.Shortcut=St,a.Slider=Mt,a.TimeDivider=he,a.Video=kt,a.VolumeMenuButton=na,a.operationReducer=$,a.playerActions=it,a.playerReducer=W,a.videoActions=rt,Object.defineProperty(a,"__esModule",{value:!0})});
//# sourceMappingURL=video-react.full.min.js.map
